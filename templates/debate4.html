<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/styles.css">
    <title>Water Scarcity in Tamil Nadu</title>
    <style>
        .debate-container {
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        .debate-title {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .debate-passage {
            margin-bottom: 30px;
            line-height: 1.5;
        }
        .vote-buttons {
            display: flex;
            justify-content: space-between;
            align-items: flex-end; /* Align buttons at the bottom */
            margin-top: 20px;
        }
        .vote-button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            flex: 1; /* Allow buttons to grow */
            margin: 0 5px; /* Space between buttons */
        }
        .vote-button.upvote {
            background-color: green;
            color: white;
        }
        .vote-button.downvote {
            background-color: red;
            color: white;
        }
        .vote-count {
            font-size: 1.2em;
            margin: auto;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="full-width-border">
                <div class="title-container">
                    <img src="/static/images/dicon.jpg" alt="Debate Club Logo" class="logo">
                    <h1 style="text-transform:uppercase">
                        <span class="green">DEBATE</span>
                        <span class="black">CLUB</span>
                    </h1>
                </div>
                <nav class="navbar">
                    <a href="/">Home</a>
                    <a href="/profile">My Profile</a>
                    <a href="/debates">Debates</a>
                    <a href="/logout" class="btn">Logout</a>
                </nav>
            </div>
        </header>
        <div class="debate-container">
            <h1 class="debate-title">Water Scarcity in Tamil Nadu</h1>
            <p class="debate-passage">
                Water scarcity is a pressing issue in Tamil Nadu, affecting agriculture, drinking water supply, 
                and overall quality of life. The debate centers around the causes of water scarcity, which include 
                climate change, over-extraction, and population growth. Effective water management strategies are 
                crucial for addressing this crisis. This topic explores the various perspectives on how to tackle 
                water scarcity and the role of government, technology, and community involvement.
            </p>
            <div class="vote-buttons">
                <button class="vote-button upvote" id="upvoteButton" onclick="upvote()">Upvote</button>
                <div class="vote-count">
                    <span id="upvoteCount">0</span> | <span id="downvoteCount">0</span>
                </div>
                <button class="vote-button downvote" id="downvoteButton" onclick="downvote()">Downvote</button>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 Debate Club. All rights reserved.</p>
        </footer>
    </div>

    <script>
        let upvotes = 0;
        let downvotes = 0;
        let hasVoted = false; // Track if the user has voted
        let votedDirection = null; // Track the direction of the vote

        function upvote() {
            if (!hasVoted) {
                upvotes++;
                hasVoted = true;
                votedDirection = 'up';
            } else if (votedDirection === 'down') {
                // User is changing from downvote to upvote
                downvotes--;
                upvotes++;
                votedDirection = 'up';
            }
            updateVoteCounts();
        }

        function downvote() {
            if (!hasVoted) {
                downvotes++;
                hasVoted = true;
                votedDirection = 'down';
            } else if (votedDirection === 'up') {
                // User is changing from upvote to downvote
                upvotes--;
                downvotes++;
                votedDirection = 'down';
            }
            updateVoteCounts();
        }

        function updateVoteCounts() {
            document.getElementById('upvoteCount').textContent = upvotes;
            document.getElementById('downvoteCount').textContent = downvotes;
            document.getElementById('upvoteButton').disabled = hasVoted; // Disable button after voting
            document.getElementById('downvoteButton').disabled = hasVoted; // Disable button after voting
        }
    </script>
</body>
</html>

